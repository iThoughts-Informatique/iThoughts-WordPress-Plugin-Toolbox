{"version":3,"sources":["../src/ithoughts-core-v5.js"],"names":["iThoughts","window","isNA","value","s","v5","d","document","w","et","EventTarget","createDocumentFragment","constructor","dc","deepClone","obj","newT","Object","i","hop","Array","$merge","ArrayOfJqueryObjects","$","map","el","get","waitFor","scope","prop","every","callback","undefined","TypeError","timer","setInterval","clearInterval","mergeRecursive","objects","newObj","j","curObj","recurse","obj1","obj2","docWidth","innerWidth","documentElement","clientWidth","body","offsetWidth","docHeight","innerHeight","clientHeight","offsetHeight","gei","e","getElementById","qs","querySelector","qsa","querySelectorAll","geiN","qsN","v","hasOwnProperty","waitUntil","fct","until","max","name","isNaN","parseInt","setTimeout","on","attachEvent","a","b","c","_on","f","addEventListener","call","k","I","length","J","K","off","detachEvent","_off","removeEventListener","go","triggerEvent","_go","createEvent","Event","dispatchEvent","createEventObject","fireEvent","jQuery","$d","$w","isIos","navigator","userAgent","match","baseTouch","initLoggers","generateLogArray","prefix","mode","args","unshift","pluginCore","textPrefix","verbosity","modes","modeIn","console","apply","toUpperCase","bind","makeLoader","loader","parseHTML","find","css","borderTopColor","backgroundColor","append"],"mappings":"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","file":"ithoughts-core-v5.js","sourcesContent":["/**\n * @file Minify compliant generic shorthands\n *\n * @author Alexandre Germain\n * @copyright 2016 iThoughts informatique\n * @license https://www.gnu.org/licenses/gpl-3.0.html GPLv3\n * @package iThoughts-toolbox\n *\n */\n\n/**\n * @namespace iThoughts\n * @description iThoughts Helpers versions\n */\n/**\n * @namespace iThoughts.v5\n * @@memberof iThoughts\n * @description iThoughts v5 Helpers\n */\n\n'use strict';\n\nif ( 'undefined' == typeof iThoughts )\t{\n\twindow.iThoughts = {};\n}\n\n( s => {\n\t/**\n\t * @function isNA\n\t * @description Tests if the value is null or undefined\n\t * @author Gerkin\n\t * @param {*} value The value to test\n\t * @returns {Boolean} Returns true if `value` is null or undefined\n\t */\n\tconst isNA = value => {\n\t\treturn null === value || 'undefined' === typeof value;\n\t};\n\n\tif ( isNA( s.v5 ))\t\t{\n\t\ts.v5 = {};\n\t}\telse\t\t{\n\t\treturn;\n\t}\n\n\tvar v5 = s.v5,\n\t\td = document,\n\t\tw = window,\n\t\t//\t\tel = Element,\n\t\tet = typeof EventTarget != 'undefined' && !isNA( EventTarget ) ? EventTarget : document.createDocumentFragment().constructor,\n\t\tdc = v5.deepClone = ( obj ) => {\n\t\t\tlet newT;\n\t\t\tif ( !isNA( obj )) {\n\t\t\t\tswitch ( obj.constructor ) {\n\t\t\t\t\tcase Object: {\n\t\t\t\t\t\tnewT = {};\n\t\t\t\t\t\tfor ( let i in obj ) {\n\t\t\t\t\t\t\tif ( v5.hop( obj, i )) {\n\t\t\t\t\t\t\t\tnewT[i] = dc( obj[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn newT;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase Array: {\n\t\t\t\t\t\tnewT = [];\n\t\t\t\t\t\tfor ( let i in obj ) {\n\t\t\t\t\t\t\tif ( v5.hop( obj, i )) {\n\t\t\t\t\t\t\t\tnewT[i] = dc( obj[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn newT;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t};\n\t/**\n\t * @function isNA\n\t * @description Check if value is null or undefined\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {*} value The value tu check\n\t * @returns {boolean} True if null or undefined, false otherwise\n\t */\n\tv5.isNA = isNA;\n\n\n\t// From https://stackoverflow.com/a/6060215/4839162:\n\tv5.$merge = ( ...ArrayOfJqueryObjects ) => $( $.map( ArrayOfJqueryObjects, el => el.get()));\n\n\n\n\t/**\n\t * @function waitFor\n\t * @description Look into `scope` for property `prop` every `every`ms, then execute `callback` when the property exists\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {*} scope The parent scope to check for property in\n\t * @param {string} prop Name of the property to wait for\n\t * @param {integer} [every] Time in ms between each checks\n\t * @param {function} callback Function to execute once property exists\n\t * @returns {undefined} Async\n\t */\n\tv5.waitFor = ( scope, prop, every, callback ) => {\n\t\tif ( 'function' == typeof every ) {\n\t\t\tcallback = every;\n\t\t\tevery = undefined;\n\t\t}\n\t\tif ( typeof scope != 'object' || typeof prop != 'string' || ( 'number' == typeof every && typeof callback != 'function' ) || typeof callback != 'function' ) {\n\t\t\tthrow TypeError( '\"waitFor\" expects following types combinations:\\n' +\n\t\t\t\t\t\t\t'\\t{Object} scope\\, {String} prop, {Number} every, {Function} callback\\n' +\n\t\t\t\t\t\t\t'\\t{Object} scope\\, {String} prop, {Function} callback' );\n\t\t}\n\t\tif ( v5.hop( scope, prop )) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\ttimer = setInterval(() => {\n\t\t\t\tif ( v5.hop( scope, prop )) {\n\t\t\t\t\tclearInterval( timer );\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}, every || 100 );\n\t\t}\n\t\tvar timer = null;\n\t};\n\n\t/**\n\t * @function mergeRecursive\n\t * @description Combine each object from left to right, keeping the left-most value\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {...(object|array)} objects Any number of objects/arrays to merge\n\t * @returns {boolean} True if null or undefined, false otherwise\n\t */\n\tv5.mergeRecursive = ( ...objects ) => {\n\t\tvar newObj = null,\n\t\t\tj,\n\t\t\tcurObj,\n\t\t\trecurse = ( obj1, obj2 ) => {\n\t\t\t\tvar i,\n\t\t\t\t\tnewT;\n\n\t\t\t\tif ( !isNA( obj2 )) {\n\t\t\t\t\tswitch ( obj2.constructor ) {\n\t\t\t\t\t\tcase Object: {\n\t\t\t\t\t\t\tif ( !isNA( obj1 ) && obj1.constructor === Object ) {\n\t\t\t\t\t\t\t\tnewT = dc( obj1 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewT = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor ( i in obj2 ) {\n\t\t\t\t\t\t\t\tif ( v5.hop( obj2, i )) {\n\t\t\t\t\t\t\t\t\tnewT[i] = recurse( newT[i], obj2[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newT;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcase Array: {\n\t\t\t\t\t\t\tif ( !isNA( obj1 ) && obj1.constructor === Array ) {\n\t\t\t\t\t\t\t\tnewT = dc( obj1 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewT = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor ( i in obj2 ) {\n\t\t\t\t\t\t\t\tif ( v5.hop( obj2, i )) {\n\t\t\t\t\t\t\t\t\tnewT[i] = recurse( newT[i], obj2[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newT;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\treturn obj2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn obj2;\n\t\t\t\t}\n\t\t\t};\n\t\tfor ( j in objects ) {\n\t\t\tcurObj = objects[j];\n\t\t\tif ( !isNA( curObj ) && ( curObj.constructor === Object || curObj.constructor === Array )) {\n\t\t\t\tnewObj = recurse( newObj, curObj );\n\t\t\t}\n\t\t}\n\t\treturn newObj;\n\t};\n\n\tv5.docWidth = () => {\n\t\treturn w.innerWidth ||\n\t\t\tw.documentElement.clientWidth ||\n\t\t\tw.body.clientWidth ||\n\t\t\tw.body.offsetWidth;\n\t};\n\n\tv5.docHeight = () => {\n\t\treturn w.innerHeight ||\n\t\t\tw.documentElement.clientHeight ||\n\t\t\tw.body.clientHeight ||\n\t\t\tw.body.offsetHeight;\n\t};\n\n\t/**\n\t * @function gei\n\t * @description Minification shorthand for {@link https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById Document.getElementById}\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {string} s The id of the searched element\n\t * @param {Element} [e=document] Element to search in\n\t * @returns {Element|null} The Element, or null if not found\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\n\t */\n\tv5.gei = ( s, e ) => {\n\t\treturn ( e||d ).getElementById( s );\n\t};\n\n\t/**\n\t * @function qs\n\t * @description Minification shorthand for {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector Element.querySelector}\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {string} s The selector of the searched element\n\t * @param {Element} [e=document] Element to search in\n\t * @returns {Element|null} The Element, or null if not found\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector\n\t */\n\tv5.qs = ( s, e ) => {\n\t\treturn ( e||d ).querySelector( s );\n\t};\n\n\t/**\n\t * @function qsa\n\t * @description Minification shorthand for {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll Element.querySelectorAll}\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {string} s The selector of the searched element\n\t * @param {Element} [e=document] Element to search in\n\t * @returns {NodeList} The NodeList containing every elements matching the selector\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll\n\t */\n\tv5.qsa = ( s, e ) => {\n\t\treturn ( e||d ).querySelectorAll( s );\n\t};\n\n\t/**\n\t * @function geiN\n\t * @description Like {@link Document.gei}, but returns an empty object instead of null to allow 1lvl attribute definition without tests\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {string} s The selector of the searched element\n\t * @param {Element} [e=document] Element to search in\n\t * @returns {Element|{}} The Element, or an empty object if not found\n\t */\n\tv5.geiN = ( s, e ) => {\n\t\treturn v5.gei( s, e ) || {};\n\t};\n\n\t/**\n\t * @function qsN\n\t * @description Like {@link Element.qsN}, but returns an empty object instead of null to allow 1lvl attribute definition without tests\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {string} s The selector of the searched element\n\t * @param {Element} [e=document] Element to search in\n\t * @returns {Element|{}} The Element, or an empty object if not found\n\t */\n\tv5.qsN = ( s, e ) => {\n\t\treturn v5.qs( s, e ) || {};\n\t};\n\n\t/**\n\t * @function hop\n\t * @description Minification shorthand for {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty Object.hasOwnProperty}\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {Object} s The object to check\n\t * @param {string} v The name of the attribute\n\t * @returns {Boolean} Returns the same than {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty Object.hasOwnProperty}\n\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\n\t */\n\tv5.hop = ( s, v ) => {\n\t\treturn s.hasOwnProperty( v );\n\t};\n\n\t/**\n\t * @function waitUntil\n\t * @description Minification shorthand for {@link HTMLDocument}.getElementById\n\t * @author Gerkin\n\t * @memberof iThoughts.v5\n\t * @instance\n\t * @param {Function} fct Function executed on resolution.\n\t * @param {Function} until Function executed on each loop.\n\t * @param {Number} every Time to wait between each test.\n\t * @param {Number|false} [max=false]  Time after which `fct` will be executed even if `until` still returns false. Set it to false to not set max timeout\n\t * @returns {undefined}\n\t */\n\tv5.waitUntil = ( fct, until, every, max ) => {\n\t\tif ( isNA( until ) || until.constructor.name !== 'Function' )\t\t\t{\n\t\t\tthrow TypeError( 'Calling \"Function.waitUntil\" without test function. Call setTimeout instead' );\n\t\t}\n\n\t\tmax = !isNA( max ) && !isNaN( parseInt( max )) ? parseInt( max ) : false;\n\t\tsetTimeout(() => {\n\t\t\tuntil() || ( max !== false && max < 1 ) ? fct() : v5.waitUntil( fct, until, every, max ? max - every : max );\n\t\t}, every );\n\t};\n\n\n\t/**\n\t * @function on\n\t * @description Bind events with specified functions on specified elements\n\t * @memberof iThoughts.v5\n\t * @alias iThoughts.v5.attachEvent\n\t * @param {EventTarget|EventTarget[]}\t\t\t\t\ta\tEventTarget to bind\n\t * @param {string|string[]}\t\t\t\t\tb\tEvents to bind\n\t * @param {EventFunction|EventFunction[]}\tc\tFunctions to attach\n\t * @returns {undefined}\n\t * @since 0.1.0\n\t */\n\tv5.on = v5.attachEvent = ( a, b, c ) => {\n\t\t/**\n\t\t * @function _on\n\t\t * @description Same as {@link EventTarget#on}\n\t\t * @alias EventTarget.on\n\t\t * @param {Element}\t\t\ts Subject of the binding\n\t\t * @param {string}\t\t\te Event to bind\n\t\t * @param {EventFunction}\tf Function to attach\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t * @see iThoughts.v5#on\n\t\t * @since 0.1.0\n\t\t */\n\t\tfunction _on( s, e, f ) {\n\t\t\te && f && ( s.addEventListener || s.attachEvent ).call( s, e, f );\n\t\t}\n\t\tif ( isNA( a ) || a.constructor.name !== 'Array' ) {\n\t\t\ta = [ a ];\n\t\t}\n\t\tif ( isNA( b ) || b.constructor.name !== 'Array' ) {\n\t\t\tb = [ b ];\n\t\t}\n\t\tif ( isNA( c ) || c.constructor.name !== 'Array' ) {\n\t\t\tc = [ c ];\n\t\t}\n\t\tvar i = 0, j = 0, k = 0, I = a.length, J = b.length, K = c.length;\n\t\tfor ( i = 0; i < I; i++ ) {\n\t\t\tfor ( j = 0; j < J; j++ ) {\n\t\t\t\tfor ( k = 0; k < K; k++ ) {\n\t\t\t\t\ta[i] instanceof et && _on( a[i], b[j], c[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @function off\n\t * @description Unbind events with specified functions on specified elements\n\t * @memberof iThoughts.v5\n\t * @alias iThoughts.v5.detachEvent\n\t * @param {EventTarget|EventTarget[]}\t\t\t\t\ta\tEventTarget to unbind\n\t * @param {string|string[]}\t\t\t\t\tb\tEvents to unbind\n\t * @param {EventFunction|EventFunction[]}\tc\tFunctions to detach\n\t * @returns {undefined}\n\t * @since 0.1.0\n\t */\n\tv5.off = v5.detachEvent = ( a, b, c ) => {\n\t\t/**\n\t\t * @function _off\n\t\t * @description Same as {@link EventTarget#off}\n\t\t * @param {Element}\t\t\ts Subject of the unbinding\n\t\t * @param {string}\t\t\te Event to unbind\n\t\t * @param {EventFunction}\tf Function to detach\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t * @see iThoughts.v5#off\n\t\t * @since 0.1.0\n\t\t */\n\t\tfunction _off( s, e, f ) {\n\t\t\te && f && ( s.removeEventListener || s.detachEvent ).call( s, e, f );\n\t\t}\n\t\tif ( isNA( a ) || a.constructor.name !== 'Array' ) {\n\t\t\ta = [ a ];\n\t\t}\n\t\tif ( isNA( b ) || b.constructor.name !== 'Array' ) {\n\t\t\tb = [ b ];\n\t\t}\n\t\tif ( isNA( c ) || c.constructor.name !== 'Array' ) {\n\t\t\tc = [ c ];\n\t\t}\n\t\tvar i = 0, j = 0, k = 0, I = a.length, J = b.length, K = c.length;\n\t\tfor ( i = 0; i < I; i++ ) {\n\t\t\tfor ( j = 0; j < J; j++ ) {\n\t\t\t\tfor ( k = 0; k < K; k++ ) {\n\t\t\t\t\ta[i] instanceof et && _off( a[i], b[j], c[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @function go\n\t * @description Unbind events with specified functions on specified elements\n\t * @memberof iThoughts.v5\n\t * @alias iThoughts.v5.triggerEvent\n\t * @param {EventTarget|EventTarget[]}\t\t\t\t\ta\tEventTarget to trigger event on\n\t * @param {string|string[]}\t\t\t\t\tb\tName of the events\n\t * @returns {undefined}\n\t * @since 0.1.0\n\t */\n\tv5.go = v5.triggerEvent = ( a, b ) => {\n\t\t/**\n\t\t * @function _go\n\t\t * @description Same as {@link EventTarget#go}\n\t\t * @param {Element}\t\t\ts Subject of the trigger\n\t\t * @param {string}\t\t\tb Event name\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t * @see iThoughts.v5#go\n\t\t * @since 0.1.0\n\t\t */\n\t\tfunction _go( s, b ) {\n\t\t\tlet e;\n\t\t\tif ( b ) {\n\t\t\t\tif ( d.createEvent ) {\n\t\t\t\t\te = new Event( b );\n\t\t\t\t\ts.dispatchEvent( e );\n\t\t\t\t} else {\n\t\t\t\t\te = d.createEventObject();\n\t\t\t\t\ts.fireEvent( `on${  b }`, e );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( isNA( a ) || a.constructor.name !== 'Array' ) {\n\t\t\ta = [ a ];\n\t\t}\n\t\tif ( isNA( b ) || b.constructor.name !== 'Array' ) {\n\t\t\tb = [ b ];\n\t\t}\n\t\tfor ( var i = 0, I = a.length; i < I; i++ ) {\n\t\t\tfor ( var j = 0, J = b.length; j < J; j++ ) {\n\t\t\t\ta[i] instanceof et && _go( a[i], b[j]);\n\t\t\t}\n\t\t}\n\t};\n\n\tif ( window.jQuery ) {\n\t\tvar $ = v5.$ = window.jQuery;\n\t\tv5.$d = $( document );\n\t\tv5.$w = $( window );\n\t}\n\n\tv5.isIos = navigator.userAgent.match( /(iPad|iPhone|iPod)/g ); // Used to enable some iOS specific piece of code to catch click on body, for example\n\tv5.baseTouch = ( v5.isIos || navigator.userAgent.match( /(Android|webOS|BlackBerry)/i )) ? 1 : 0;\n\n\n\tv5.initLoggers = (() => {\n\t\tconst generateLogArray = ( prefix, mode, args ) => {\n\t\t\targs.unshift( `${ mode  }` );\n\t\t\targs.unshift( `${ prefix  } => ` );\n\t\t\treturn args;\n\t\t};\n\t\treturn ( pluginCore, textPrefix, verbosity ) => {\n\t\t\tif ( 'string' == typeof verbosity ) {\n\t\t\t\tverbosity = parseInt( verbosity );\n\t\t\t}\n\n\t\t\tvar modes = [ 'error', 'warn', 'info', 'log' ],\n\t\t\t\tmode;\n\t\t\tfor ( var i = 0, I = modes.length; i < I; i++ ) {\n\t\t\t\tmode = modes[i];\n\t\t\t\tif ( !pluginCore.hasOwnProperty( mode )) {\n\t\t\t\t\tpluginCore[mode] = verbosity > i ? (( modeIn, ...args ) => {\n\t\t\t\t\t\tconsole[modeIn].apply( null, generateLogArray( textPrefix, modeIn.toUpperCase(), args ));\n\t\t\t\t\t}).bind( null, mode ) : () => {};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\tv5.makeLoader = () => {\n\t\tvar loader = $( $.parseHTML( '<div class=\"ithoughts_tt_gl-loader\" data-loader-status=\"shown\"><div class=\"centerer\"><div class=\"loader\"></div></div></div>' ));\n\t\tloader.find( '.loader,.loader:before,.loader:after' ).css({\n\t\t\tborderTopColor: $( '#adminmenu li.wp-has-current-submenu a.wp-has-current-submenu, #adminmenu li.current a.menu-top, .folded #adminmenu li.wp-has-current-submenu, .folded #adminmenu li.current.menu-top, #adminmenu .wp-menu-arrow, #adminmenu .wp-has-current-submenu .wp-submenu .wp-submenu-head, #adminmenu .wp-menu-arrow div,#publish' ).css( 'background-color' ),\n\t\t});\n\t\tloader.find( '.centerer' ).css({\n\t\t\tbackgroundColor: $( '#wpadminbar' ).css( 'background-color' ),\n\t\t});\n\t\t$( 'body' ).append( loader );\n\t\treturn loader;\n\t};\n})( iThoughts );\n"]}